<html style="padding:10px;">
    <head>
        <title>URY AutoNews Selection</title>
        <h2>AutoNews Selection</h2>

        <!-- Bootstrap-->

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

    </head>
    <body>

        {{ if .DataDriven }}
            <div class="alert alert-success alert-dismissable" id="success-alert">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                <strong>Success!</strong> AutoNews Preference Updated
            </div>
        {{ end }}

        <div style="float: left;">

            {{ if not .Timeslots }}
                <p style="clear:both; margin: 1em;"> No Shows Available Today </p>
            {{ end }}

            {{range .Timeslots}}
                <button class="selbtn btn btn-outline-primary" style="display:block; margin: 10px" onclick="button({{.Timeslotid}})" id=btn{{.Timeslotid}}>{{.Title}}</button>
            {{end}}

        </div>

        <div style="float: left;">
            {{range .Timeslots}}

                <form id="form{{.Timeslotid}}" class="autonewsform" style="margin:5em;">
                    <input type="hidden"  name="timeslotid" value="{{.Timeslotid}}">
                    <input type="checkbox" name="S" {{if .AutoNewsStart}}checked{{end}}>
                    <label for="S">AutoNews at Start of Show</label>
                    <br>
                    <input type="checkbox" name="E" {{if .AutoNewsEnd}}checked{{end}}>
                    <label for="E">AutoNews at End of Show</label>
                    <br>
                    <input type="submit" class="btn btn-primary" >
                </form>

            {{end}}
        </div>

        <p style="clear:both; margin: 1em;">Any problems, please contact Computing team (#computing on the URY Slack)</p>

        <script>

            function hideforms(){
                var forms = document.getElementsByClassName("autonewsform");
                for (var i = 0; i<forms.length; i++){
                    forms[i].style.display = "none";
                }
                var btns = document.getElementsByClassName("selbtn");
                for (var i = 0; i<btns.length; i++){
                    btns[i].classList.remove("active")
                }
            }

            function button(timeslotid){
                hideforms();
                document.getElementById("form" + timeslotid).style.display = "block";
                document.getElementById("btn" + timeslotid).classList.add("active");
            }

            hideforms();
            setTimeout(function(){document.getElementById("success-alert").style.display = "none";}, 3000);

        </script>

    </body>

</html>